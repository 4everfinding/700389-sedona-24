var formLink=document.querySelector(".search__button--open"),formSearch=document.querySelector(".search__form"),dateArrival=formSearch.querySelector("[name=date-arrival]"),dateExit=formSearch.querySelector("[name=date-exit]"),amountAdults=formSearch.querySelector("[name=amount-adults]"),amountChildren=formSearch.querySelector("[name=amount-children]"),isStorageSupport=!0,storageAdults="",storageChildren="";try{storageAdults=localStorage.getItem("adults"),storageChildren=localStorage.getItem("children")}catch(e){isStorageSupport=!1}formLink.addEventListener("click",function(e){e.preventDefault(),formSearch.classList.toggle("search__form--show"),storageAdults&&(amountAdults.value=storageAdults),storageChildren&&(amountChildren.value=storageChildren)}),formSearch.addEventListener("transitionend",function(){dateArrival.focus()}),window.addEventListener("keydown",function(e){27===e.keyCode&&formSearch.classList.contains("search__form--show")&&(e.preventDefault(),formSearch.classList.remove("search__form--show"))}),formSearch.addEventListener("submit",function(e){dateArrival.value&&dateExit.value&&amountAdults.value&&amountChildren.value?isStorageSupport&&(localStorage.setItem("adults",amountAdults.value),localStorage.setItem("children",amountChildren.value)):(e.preventDefault(),alert("Не все поля заполнены!"))});